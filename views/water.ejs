<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title><%= title %></title>
        <link rel="stylesheet" href="<%= basePath %>/css/main.css" />
        <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&display=swap" rel="stylesheet" />
    </head>
    <body>
        <%- include('partials/header') %>

        <main class="content-section">
            <h1>Water Tracker</h1>
            <p>Log your daily water intake. Aim for 2000ml (2 Litres) per day.</p>

            <div class="styled-form water-summary">
                <h2 class="water-total"><%= totalWater %> ml</h2>
                <p>Today's Total</p>

                <div class="progress-container">
                    <% const percentage = Math.min((totalWater / 2000) * 100, 100); %>
                    <div class="progress-fill" style="width: <%= percentage %>%"></div>
                </div>
                <p><small><%= percentage.toFixed(0) %>% of daily goal</small></p>
            </div>

            <form action="<%= basePath %>/fitness/water" method="POST" class="styled-form">
                <div class="form-group">
                    <label for="amount">Add Water (ml)</label>
                    <input type="number" id="amount" name="amount" placeholder="e.g. 250" required />
                </div>
                <button type="submit" class="btn-cta">Add Water</button>
            </form>

            <% if (message) { %>
            <div class="alert success" style="margin-top: 20px"><%= message %></div>
            <% } %>
        </main>
    </body>
</html>
